<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revisione</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#3498db">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Revisione">
    
    <!-- Icone per PWA -->
    <link rel="apple-touch-icon" href="https://github.com/Sebastiano-Mazzarisi/Test/blob/main/JoyFit.jpg?raw=true">
    <link rel="icon" type="image/jpeg" href="https://github.com/Sebastiano-Mazzarisi/Test/blob/main/JoyFit.jpg?raw=true">
    <link rel="shortcut icon" href="https://github.com/Sebastiano-Mazzarisi/Test/blob/main/JoyFit.jpg?raw=true">
    
    <!-- Manifest per PWA -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIlJldmlzaW9uZSIsCiAgInNob3J0X25hbWUiOiAiUmV2aXNpb25lIiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmMGYyZjUiLAogICJ0aGVtZV9jb2xvciI6ICIjMzQ5OGRiIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiaHR0cHM6Ly9naXRodWIuY29tL1NlYmFzdGlhbm8tTWF6emFyaXNpL1Rlc3QvYmxvYi9tYWluL0pveUZpdC5qcGc/cmF3PXRydWUiLAogICAgICAic2l6ZXMiOiAiNTEyeDUxMiIsCiAgICAgICJ0eXBlIjogImltYWdlL2pwZWciCiAgICB9LAogICAgewogICAgICAic3JjIjogImh0dHBzOi8vZ2l0aHViLmNvbS9TZWJhc3RpYW5vLU1henphcmlzaS9UZXN0L2Jsb2IvbWFpbi9Kb3lGaXQuanBnP3Jhdz10cnVlIiwKICAgICAgInNpemVzIjogIjE5MngxOTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9qcGVnIgogICAgfQogIF0KfQ=="> 
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            scroll-behavior: smooth;
            font-size: 1.1em;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            display: flex;
            flex-direction: column;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        h2 {
            color: #3498db;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            margin-top: 35px;
            font-size: 2em;
        }
        h3 {
            color: #2ecc71;
            margin-top: 25px;
            font-size: 1.6em;
        }
        p {
            margin-bottom: 15px;
            color: #555;
            font-size: 1.1em;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        ul li {
            background-color: #ecf0f1;
            margin-bottom: 8px;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 5px solid #95a5a6;
            font-size: 1.05em;
        }
        .button-section {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 40px;
            margin-bottom: 20px;
        }
        .button {
            background-color: #3498db;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            flex: 1 1 250px;
            max-width: 300px;
            text-align: center;
            text-decoration: none;
            box-sizing: border-box;
        }
        .button:hover {
            background-color: #2980b9;
            transform: translateY(-3px);
        }
        .calculation-box {
            background-color: #e8f6f3;
            border: 1px solid #d1eeeb;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 1.1em;
            color: #21618C;
        }
        .calculation-box strong {
            color: #1a5276;
        }
        .calculator-section {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            padding: 25px;
            border-radius: 12px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .calculator-title {
            color: #2c3e50;
            font-size: 1.4em;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }
        .calculator-row {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 15px;
        }
        .calculator-label {
            font-weight: bold;
            color: #495057;
            min-width: 150px;
        }
        .calculator-select {
            padding: 10px 15px;
            border: 2px solid #ced4da;
            border-radius: 8px;
            font-size: 1.1em;
            background-color: #fefcbf;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }
        .calculator-select:focus {
            outline: none;
            border-color: #3498db;
        }
        .calculator-result {
            background-color: #e3f2fd;
            border: 2px solid #bbdefb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 1.1em;
        }
        .result-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #90caf9;
        }
        .result-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .result-label {
            font-weight: bold;
            color: #1565c0;
        }
        .result-value {
            font-weight: bold;
            color: #0d47a1;
            font-size: 1.2em;
        }
        #dynamic-content-area {
            border-top: 1px solid #e0e0e0;
            padding-top: 20px;
            margin-top: 20px;
            min-height: 100px;
        }
        .content-section {
            display: none;
        }
        .back-to-top-button {
            display: block;
            margin-top: 30px;
            padding: 15px 30px;
            background-color: #6c757d;
            color: white;
            text-align: center;
            border-radius: 8px;
            text-decoration: none;
            transition: background-color 0.3s ease;
            font-size: 1.2em;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }
        .back-to-top-button:hover {
            background-color: #5a6268;
        }

        @media (max-width: 768px) {
            body {
                font-size: 1em;
                padding: 10px;
            }
            .container {
                padding: 20px;
                margin: 10px auto;
            }
            .button {
                flex: 1 1 calc(50% - 15px);
                font-size: 1.1em;
                padding: 12px 25px;
            }
            h1 {
                font-size: 2.2em;
                margin-top: 5px;
                margin-bottom: 5px;
            }
            p {
                font-size: 1em;
            }
            ul li {
                font-size: 1em;
            }
            .calculator-section {
                padding: 15px;
                margin-top: 15px;
                margin-bottom: 15px;
            }
            .calculator-title {
                font-size: 1.3em;
                margin-bottom: 15px;
            }
            .calculator-row {
                flex-direction: column;
                align-items: stretch;
                gap: 8px;
                margin-bottom: 20px;
            }
            .calculator-label {
                min-width: auto;
                font-size: 1.1em;
                margin-bottom: 5px;
            }
            .calculator-select {
                width: 100%;
                padding: 12px 15px;
                font-size: 1.2em;
                box-sizing: border-box;
            }
            .calculator-result {
                padding: 15px;
                margin-top: 15px;
            }
            .result-row {
                flex-direction: column;
                align-items: stretch;
                padding: 12px 0;
                gap: 5px;
            }
            .result-label {
                font-size: 1em;
                margin-bottom: 3px;
            }
            .result-value {
                font-size: 1.4em;
                text-align: right;
                color: #0d47a1;
            }
            .calculation-box {
                padding: 15px;
                margin-top: 15px;
                font-size: 1em;
            }
            .calculation-box h3 {
                font-size: 1.2em;
                margin-bottom: 12px;
            }
            .calculation-box div[style*="background-color: #fff"] {
                padding: 12px !important;
                font-size: 1em !important;
            }
            .calculation-box div[style*="font-size: 0.95em"] {
                font-size: 0.9em !important;
            }
        }

        @media (max-width: 480px) {
            body {
                font-size: 0.95em;
                padding: 5px;
            }
            .container {
                padding: 15px;
                margin: 5px auto;
            }
            .button {
                flex: 1 1 100%;
                font-size: 1.1em;
                padding: 10px 20px;
                margin-bottom: 10px;
            }
            h1 {
                font-size: 1.8em;
                margin-top: 5px;
                margin-bottom: 5px;
            }
            h2 {
                font-size: 1.5em;
                margin-top: 25px;
            }
            p {
                font-size: 1em;
            }
            ul li {
                font-size: 1em;
                padding: 10px 12px;
            }
            .calculator-section {
                padding: 12px;
            }
            .calculator-title {
                font-size: 1.2em;
            }
            .calculator-select {
                padding: 14px 12px;
                font-size: 1.1em;
            }
            .result-value {
                font-size: 1.3em;
            }
            .calculation-box {
                padding: 12px;
            }
            .calculation-box h3 {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body id="top">
    <div class="container">
        <h1>Revisione</h1> 
        <div class="button-section" id="button-section">
            <button class="button" onclick="showContent('fitto')">Revisione Fitto</button>
            <button class="button" onclick="showContent('versamento')">Restituzione Versamento Iniziale</button>
            <button class="button" onclick="showContent('amministratore')">Retribuzione Amministratore</button>
            <button class="button" onclick="showContent('checco')">Retribuzione Checco</button>
            <button class="button" onclick="showContent('mimmo')">Retribuzione Mimmo</button>
            <button class="button" onclick="showContent('marica')">Retribuzione Marica</button>
            <button class="button" onclick="showContent('vantaggio')">Vantaggio per il Futuro</button>
        </div>

        <div id="dynamic-content-area">
        </div>

        <div style="display: none;">
            <div id="fitto" class="content-section">
                <h2>Revisione fitto</h2>
                <p>Visto che il <strong>valore degli immobili</strong> della palestra è aumentato con il montaggio del <strong>nuovo soppalco</strong>, potrebbe essere il momento ideale per valutare una <strong>revisione del fitto</strong>, tutto dichiarato ufficialmente.</p>
                <p>Aumento da <strong>€ 3.000/mese a € 3.600/mese</strong>.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="versamento" class="content-section">
                <h2>Restituzione versamento iniziale</h2>
                <p>Il giorno 23/12/2005, con atto del notaio Pantaleo, Nino ha acquistato il <strong>25% della New Gym Enjoy SSD a r.l.</strong>, versando un importo di <strong>€ 120.000</strong> con l'accordo di tutti (Checco, Mimmo e Agata) che quei soldi sarebbero rientrati con versamenti mensili.</p>
                <p>Cosa che <strong>non è mai successo</strong> perché all'inizio tutti i soldi versati sono serviti per riavviare la palestra e poi perché con l'assunzione di Marica si è confuso il suo lavoro con l'impegno di restituzione.</p>
                <h3>Tre osservazioni a proposito.</h3>
                <ul>
                    <li>Nel momento di decidere se effettuare o meno l'investimento di <strong>€ 120.000</strong> ho avuto il parere nettamente <strong>negativo da parte di commercialisti e avvocati</strong>, ma io e Marica abbiamo deciso comunque di andare avanti per cercare di <strong>salvare la situazione</strong>.</li>
                    <li>La <strong>situazione debitoria era molto pesante</strong>, per una errata valutazione degli investimenti effettuati la palestra aveva debiti per più di <strong>€ 70.000</strong> e aveva fideiussioni personali e di parenti per la copertura del mutuo della banca per l'acquisto dell'immobile, e se la situazione non si fosse sbloccata la banca avrebbe rilevato l'immobile e molto probabilmente avrebbe attinto dai beni dei fideiussori.</li>
                    <li>Marica ha lavorato per più di <strong>10 anni (dal 2006 al 2016)</strong> ricevendo soltanto i contributi che allora erano di circa <strong>€ 250/300 mese</strong>.</li>
                </ul>
                <p>La situazione attuale è che il <strong>netto vero di Marica è inferiore ai € 1.000/mese</strong>.</p>
                <p>Alla luce di quanto esposto, ritengo sia giunto il momento opportuno per iniziare a pianificare la <strong>restituzione dei € 120.000</strong>, che, calcolando tutto al <strong>3% (il minimo)</strong>, da restituire con una <strong>rata mensile</strong>, prioritariamente e indipendentemente rispetto agli altri compensi da decidere.</p>

                <div class="calculator-section">
                    <div class="calculator-title">Calcolatore Restituzione</div>
                    
                    <div class="calculator-row">
                        <span class="calculator-label">Interesse medio:</span>
                        <select id="interesse" class="calculator-select" onchange="calculateLoan()">
                            <option value="3">3%</option>
                            <option value="4" selected>4%</option>
                            <option value="5">5%</option>
                            <option value="6">6%</option>
                        </select>
                    </div>

                    <div class="calculator-row">
                        <span class="calculator-label">Restituzione in anni:</span>
                        <select id="anni" class="calculator-select" onchange="calculateLoan()">
                            <option value="5">5 anni</option>
                            <option value="10">10 anni</option>
                            <option value="15" selected>15 anni</option>
                            <option value="20">20 anni</option>
                        </select>
                    </div>

                    <div class="calculator-result" id="risultati">
                        <div class="result-row">
                            <span class="result-label">Capitale al 23/12/2005:</span>
                            <span class="result-value">€ 120.000</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">Montante oggi (<span id="data-oggi"></span>):</span>
                            <span class="result-value" id="montante">€ 289.600</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">Rata mensile:</span>
                            <span class="result-value" id="rata">€ 1.900</span>
                        </div>
                    </div>
                </div>

                <div class="calculation-box">
                    <h3 style="color: #1a5276; margin-top: 0; margin-bottom: 15px; text-align: center;">Formule utilizzate per i calcoli</h3>
                    
                    <div style="margin-bottom: 20px;">
                        <strong style="color: #1a5276;">Calcolo del Montante (Interesse Composto):</strong>
                        <div style="background-color: #fff; padding: 15px; border-radius: 6px; margin-top: 8px; font-family: monospace; font-size: 1.1em; border-left: 4px solid #3498db;">
                            M = C × (1 + i)<sup>n</sup>
                        </div>
                        <div style="margin-top: 10px; font-size: 0.95em; color: #2c3e50;">
                            Dove:<br>
                            • <strong>M</strong> = Montante finale<br>
                            • <strong>C</strong> = Capitale iniziale (€ 120.000)<br>
                            • <strong>i</strong> = Tasso di interesse annuo<br>
                            • <strong>n</strong> = Anni trascorsi dal 23/12/2005
                        </div>
                    </div>

                    <div>
                        <strong style="color: #1a5276;">Calcolo della Rata Mensile:</strong>
                        <div style="background-color: #fff; padding: 15px; border-radius: 6px; margin-top: 8px; font-family: monospace; font-size: 1.1em; border-left: 4px solid #e74c3c;">
                            R = M × [i<sub>m</sub> × (1 + i<sub>m</sub>)<sup>t</sup>] / [(1 + i<sub>m</sub>)<sup>t</sup> - 1]
                        </div>
                        <div style="margin-top: 10px; font-size: 0.95em; color: #2c3e50;">
                            Dove:<br>
                            • <strong>R</strong> = Rata mensile<br>
                            • <strong>M</strong> = Montante da restituire<br>
                            • <strong>i<sub>m</sub></strong> = Tasso mensile (tasso annuo ÷ 12)<br>
                            • <strong>t</strong> = Numero totale di mesi per la restituzione
                        </div>
                    </div>
                </div>

                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="amministratore" class="content-section">
                <h2>Retribuzione amministratore</h2>
                <p>Per chi ha il ruolo di <strong>Amministratore Unico</strong>, per le responsabilità che ricadono su questo ruolo bisognerebbe considerare:</p>
                <ul>
                    <li>Un compenso per questo ruolo, indipendentemente da ogni altra cosa, potrebbe essere quantificato in circa <strong>€ 300/mese</strong></li>
                    <li>Una polizza assicurativa di circa <strong>€ 200/mese</strong> che la società può detrarre.</li>
                    <li>Naturalmente l'amministratore potrebbe anche non essere sempre la stessa persona e quindi quei <strong>€ 500/mese (orientativi)</strong> saranno dati (ufficialmente) alla persona che ha l'incarico di Amministratore in quel momento.</li>
                </ul>
                <p><strong>Tutto alla luce del sole</strong>.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="checco" class="content-section">
                <h2>Retribuzione Checco</h2>
                <p>Per Checco, in ottica di <strong>equità e trasparenza tra i soci</strong>, sarebbe opportuno <strong>sospendere extra e incentivi</strong>, in sintesi niente più personal e niente incentivi di nessun tipo (sono altri gli incentivi).</p>
                <p>Tutto quello che i soci lavoratori fanno è per la palestra.</p>
                <p>Attualmente è Amministratore Unico quindi vale quello scritto precedentemente.</p>
                <p>Per quanto riguarda il compenso come attività, la procedura corretta da seguire è quella di fare una <strong>ricerca di mercato</strong> e determinare il <strong>compenso medio</strong> di un istruttore/gestore che faccia le stesse attività di Checco, assunto regolarmente, assunzione che deve essere dello stesso tipo anche a Checco, <strong>tutto alla luce del sole</strong>.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="mimmo" class="content-section">
                <h2>Retribuzione Mimmo</h2>
                <p><strong>Niente più quell'euro a "paziente"</strong> (gli incentivi sono per i non soci).</p>
                <p>Per quanto riguarda il lavoro, stesso discorso fatto per Checco, si individua (idealmente) una persona che possa fare lo stesso lavoro che fa Mimmo e si determina il <strong>compenso medio</strong> di una tale figura, e si adotta lo stesso criterio di assunzione per Mimmo, ancora una volta <strong>tutto alla luce del sole</strong>.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="marica" class="content-section">
                <h2>Retribuzione Marica</h2>
                <p>Il compenso di Marica semplicemente diventa quello che ha adesso, senza più bisogno di fare conti strani ogni mese per calcolare quanto deve versare nelle casse della palestra, <strong>niente più restituzioni mensili, o restituzione di tredicesime o anche di fine rapporto</strong>.</p>
                <p>Insomma, è ora di riconoscere a Marica uno <strong>stipendio ufficiale, equo e dignitoso</strong>.</p>
                <p>Infine, <strong>niente incentivi a cottimo</strong>, assolutamente umilianti per chi già fa tutto quello che può fare perché quando lavora lo fa da socia e non da semplice impiegata.</p>
                <p>Ma allora, i soci guadagnano quanto gli istruttori o gli impiegati?</p>
                <p><strong>Assolutamente no</strong>, se le cose andranno bene, e tutto lo lascia presagire, i soci, <strong>due volte l'anno (luglio e gennaio) si divideranno equamente gli extra</strong>, che si preannuncino molto interessanti.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="vantaggio" class="content-section">
                <h2>Vantaggio per il futuro</h2>
                <ul>
                    <li>Con questo approccio <strong>non c'è più un Amministratore Unico a vita</strong>, ma il ruolo potrebbe essere svolto a turno (tra chi lo vuole fare), e nulla vieta che lo possa fare un esterno di fiducia.</li>
                    <li>Risolviamo così anche il fatto che <strong>Flavia è la socia e Mimmo è un istruttore</strong>.</li>
                    <li>Si risolve il problema del <strong>passaggio generazionale</strong>, nel senso che se c'è qualche socio che lavora viene pagato a quotazioni di mercato, e se non lavora non ha retribuzioni, ma in ogni caso resta l'incontro semestrale per la suddivisione degli extra, solo a favore dei soci: <strong>Checco, Marica e Flavia</strong>.</li>
                </ul>
                <a href="#top" class="back-to-top-button">Inizio</a>
            </div>
        </div>
    </div>

    <script>
        function showContent(sectionId) {
            const dynamicContentArea = document.getElementById('dynamic-content-area');
            const sourceSection = document.getElementById(sectionId);
            const buttonSection = document.getElementById('button-section'); 

            dynamicContentArea.innerHTML = '';

            if (sourceSection) {
                const clonedContent = sourceSection.cloneNode(true);
                clonedContent.style.display = 'block';
                dynamicContentArea.appendChild(clonedContent);
                
                // Se è la sezione versamento, ricalcola subito
                if (sectionId === 'versamento') {
                    setTimeout(() => calculateLoan(), 100);
                }
                
                buttonSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function calculateLoan() {
            const capitale = 120000;
            const dataInizio = new Date(2005, 11, 23); // 23/12/2005
            const dataOggi = new Date();
            
            // Aggiorna la data visualizzata
            const gg = String(dataOggi.getDate()).padStart(2, '0');
            const mm = String(dataOggi.getMonth() + 1).padStart(2, '0');
            const aaaa = dataOggi.getFullYear();
            document.getElementById('data-oggi').textContent = `${gg}/${mm}/${aaaa}`;
            
            const interesse = parseFloat(document.getElementById('interesse').value) / 100;
            const anniRestituzione = parseInt(document.getElementById('anni').value);
            
            // Calcola anni trascorsi dal versamento
            const anniTrascorsi = (dataOggi - dataInizio) / (1000 * 60 * 60 * 24 * 365.25);
            
            // Calcola montante con interesse composto
            const montante = capitale * Math.pow(1 + interesse, anniTrascorsi);
            
            // Calcola rata mensile per restituire il montante in X anni
            const mesiRestituzione = anniRestituzione * 12;
            const interesseMensile = interesse / 12;
            
            let rataMensile;
            if (interesseMensile === 0) {
                rataMensile = montante / mesiRestituzione;
            } else {
                rataMensile = montante * (interesseMensile * Math.pow(1 + interesseMensile, mesiRestituzione)) / 
                             (Math.pow(1 + interesseMensile, mesiRestituzione) - 1);
            }
            
            // Arrotonda ai 100 euro
            const montanteArrotondato = Math.round(montante / 100) * 100;
            const rataArrotondata = Math.round(rataMensile / 100) * 100;
            
            // Aggiorna i risultati
            document.getElementById('montante').textContent = '€ ' + montanteArrotondato.toLocaleString();
            document.getElementById('rata').textContent = '€ ' + rataArrotondata.toLocaleString();
        }

        // Calcola automaticamente al caricamento della pagina
        document.addEventListener('DOMContentLoaded', function() {
            calculateLoan();
        });
    </script>
</body>
</html>