<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revisione</title>
    
    <meta name="theme-color" content="#3498db">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Revisione">
    
    <link rel="apple-touch-icon" href="https://github.com/Sebastiano-Mazzarisi/Test/blob/main/JoyFit.jpg?raw=true">
    <link rel="icon" type="image/jpeg" href="https://github.com/Sebastiano-Mazzarisi/Test/blob/main/JoyFit.jpg?raw=true">
    <link rel="shortcut icon" href="https://github.com/Sebastiano-Mazzarisi/Test/blob/main/JoyFit.jpg?raw=true">
    
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIlJldmlzaW9uZSIsCiAgInNob3J0X25hbWUiOiAiUmV2aXNpb25lIiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmMGYyZjUiLAogICJ0aGVtZV9jb2xvciI6ICIjMzQ5OGRiIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiaHR0cHM6Ly9naXRodWIuY29tL1NlYmFzdGlhbm8tTWF6emFyaXNpL1Rlc3QvYmxvYi9tYWluL0pveUZpdC5qcGc/cmF3PXRydWUiLAogICAgICAic2l6ZXMiOiAiNTEyeDUxMiIsCiAgICAgICJ0eXBlIjogImltYWdlL2pwZWciCiAgICB9LAogICAgewogICAgICAic3JjIjogImh0dHBzOi8vZ2l0aHViLmNvbS9TZWJhc3RpYW5vLU1henphcmlzaS9UZXN0L2Jsb2IvbWFpbi9Kb3lGaXQuanBnP3Jhdz10cnVlIiwKICAgICAgInNpemVzIjogIjE5MngxOTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9qcGVnIgogICAgfQogIF0KfQ=="> 
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            scroll-behavior: smooth;
            font-size: 1.1em;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            display: flex;
            flex-direction: column;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        h2 {
            color: #3498db;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
            margin-top: 35px;
            font-size: 2em;
        }
        h3 {
            color: #2ecc71;
            margin-top: 25px;
            font-size: 1.6em;
        }
        p {
            margin-bottom: 15px;
            color: #555;
            font-size: 1.1em;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        ul li {
            background-color: #ecf0f1;
            margin-bottom: 8px;
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 5px solid #95a5a6;
            font-size: 1.05em;
        }
        .button-section {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 40px;
            margin-bottom: 20px;
        }
        .button {
            background-color: #3498db;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            flex: 1 1 250px;
            max-width: 300px;
            text-align: center;
            text-decoration: none;
            box-sizing: border-box;
        }
        .button:hover {
            background-color: #2980b9;
            transform: translateY(-3px);
        }
        .emoji {
            font-size: 1.5em;
            margin-right: 8px;
            vertical-align: middle;
            line-height: 0;
        }
        .calculation-box {
            background-color: #e8f6f3;
            border: 1px solid #d1eeeb;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 1.1em;
            color: #21618C;
        }
        .calculation-box strong {
            color: #1a5276;
        }
        .calculator-section {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            padding: 25px;
            border-radius: 12px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .calculator-title {
            color: #2c3e50;
            font-size: 1.4em;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }
        .calculator-grid {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
        }
        .calculator-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .calculator-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .calculator-label {
            font-weight: bold;
            color: #495057;
            flex-shrink: 0;
        }
        .calculator-select {
            padding: 10px 15px;
            border: 2px solid #ced4da;
            border-radius: 8px;
            font-size: 1.1em;
            background-color: #fefcbf;
            cursor: pointer;
            transition: border-color 0.3s ease;
            width: 100%;
        }
        .calculator-select:focus {
            outline: none;
            border-color: #3498db;
        }
        .calculator-result {
            background-color: #e3f2fd;
            border: 2px solid #bbdefb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 1.1em;
        }
        .result-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #90caf9;
        }
        .result-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .result-label {
            font-weight: bold;
            color: #1565c0;
        }
        .result-value {
            font-weight: bold;
            color: #0d47a1;
            font-size: 1.2em;
        }
        #dynamic-content-area {
            border-top: 1px solid #e0e0e0;
            padding-top: 20px;
            margin-top: 20px;
            min-height: 100px;
        }
        .content-section {
            display: none;
        }
        .back-to-top-button {
            display: block;
            margin-top: 30px;
            padding: 15px 30px;
            background-color: #6c757d;
            color: white;
            text-align: center;
            border-radius: 8px;
            text-decoration: none;
            transition: background-color 0.3s ease;
            font-size: 1.2em;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }
        .back-to-top-button:hover {
            background-color: #5a6268;
        }

        @media (max-width: 768px) {
            body { font-size: 1em; padding: 10px; }
            .container { padding: 20px; margin: 10px auto; }
            .button { flex: 1 1 calc(50% - 15px); font-size: 1.1em; padding: 12px 25px; }
            h1 { font-size: 2.2em; margin-top: 5px; margin-bottom: 5px; }
            p { font-size: 1em; }
            ul li { font-size: 1em; }
            .calculator-section { padding: 15px; margin-top: 15px; margin-bottom: 15px; }
            .calculator-title { font-size: 1.3em; margin-bottom: 15px; }
            .calculator-grid { flex-direction: column; gap: 5px; }
            .calculator-column { gap: 20px; }
            .calculator-row { flex-direction: column; align-items: stretch; gap: 8px; margin-bottom: 0; }
            .calculator-label { min-width: auto; font-size: 1.1em; margin-bottom: 5px; }
            .calculator-select { width: 100%; padding: 12px 15px; font-size: 1.2em; box-sizing: border-box; }
            .calculator-result { padding: 15px; margin-top: 15px; }
            .result-row { flex-direction: column; align-items: stretch; padding: 12px 0; gap: 5px; }
            .result-label { font-size: 1em; margin-bottom: 3px; }
            .result-value { font-size: 1.4em; text-align: right; color: #0d47a1; }
            .calculation-box { padding: 15px; margin-top: 15px; font-size: 1em; }
            .calculation-box h3 { font-size: 1.2em; margin-bottom: 12px; }
            .calculation-box div[style*="background-color: #fff"] { padding: 12px !important; font-size: 1em !important; }
            .calculation-box div[style*="font-size: 0.95em"] { font-size: 0.9em !important; }
        }

        @media (max-width: 480px) {
            body { font-size: 0.95em; padding: 5px; }
            .container { padding: 15px; margin: 5px auto; }
            .button { flex: 1 1 100%; font-size: 1.1em; padding: 10px 20px; margin-bottom: 10px; }
            h1 { font-size: 1.8em; margin-top: 5px; margin-bottom: 5px; }
            h2 { font-size: 1.5em; margin-top: 25px; }
            p { font-size: 1em; }
            ul li { font-size: 1em; padding: 10px 12px; }
            .calculator-section { padding: 12px; }
            .calculator-title { font-size: 1.2em; }
            .calculator-select { padding: 14px 12px; font-size: 1.1em; }
            .result-value { font-size: 1.3em; }
            .calculation-box { padding: 12px; }
            .calculation-box h3 { font-size: 1.1em; }
        }
    </style>
</head>
<body id="top">
    <div class="container">
        <h1>Revisione</h1> 
        <div class="button-section" id="button-section">
            <button class="button" onclick="showContent('fitto')"><span class="emoji">üè†</span>Revisione Fitto</button>
            <button class="button" onclick="showContent('versamento')"><span class="emoji">üí∞</span>Restituzione Versamento Iniziale</button>
            <button class="button" onclick="showContent('amministratore')"><span class="emoji">üëî</span>Retribuzione Amministratore</button>
            <button class="button" onclick="showContent('checco')"><span class="emoji">üèãÔ∏è‚Äç‚ôÇÔ∏è</span>Retribuzione Checco</button>
            <button class="button" onclick="showContent('mimmo')"><span class="emoji">üßë‚Äç‚öïÔ∏è</span>Retribuzione Mimmo</button>
            <button class="button" onclick="showContent('marica')"><span class="emoji">üë©</span>Retribuzione Marica</button>
            <button class="button" onclick="showContent('vantaggio')"><span class="emoji">üìà</span>Vantaggi per il Futuro</button>
        </div>

        <div id="dynamic-content-area">
        </div>

        <div style="display: none;">
            <div id="fitto" class="content-section">
                <h2>Revisione fitto</h2>
                <p>Visto che il <strong>valore dell'immobile</strong> fittato alla palestra √® aumentato con il montaggio del <strong>nuovo soppalco</strong>, potrebbe essere il momento ideale per valutare una <strong>revisione del fitto</strong>, tutto dichiarato ufficialmente.</p>
                <p>Aumento da <strong>‚Ç¨ 3.000/mese a ‚Ç¨ 3.600/mese</strong>.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="versamento" class="content-section">
                <h2>Restituzione versamento iniziale</h2>
                <p>Il giorno 23/12/2005, con atto del notaio Pantaleo, Nino ha acquistato il <strong>25% della New Gym Enjoy SSD a r.l.</strong>, versando un importo di <strong>‚Ç¨ 120.000</strong> con l'accordo di tutti (Checco, Mimmo e Agata) che quei soldi sarebbero rientrati con versamenti mensili.</p>
                <p>Cosa che <strong>non √® mai successo</strong> perch√© all'inizio tutti i soldi versati sono serviti per riavviare la palestra e poi perch√© con l'assunzione di Marica si √® confuso il suo lavoro con l'impegno di restituzione.</p>
                <h3>Tre osservazioni a proposito.</h3>
                <ul>
                    <li>Nel momento di decidere se effettuare o meno l'investimento di <strong>‚Ç¨ 120.000</strong> ho avuto il parere nettamente <strong>negativo da parte di commercialisti e avvocati</strong>, ma io e Marica abbiamo deciso comunque di andare avanti per cercare di <strong>salvare la situazione</strong>.</li>
                    <li>La <strong>situazione debitoria era molto pesante</strong>, per una errata valutazione degli investimenti effettuati la palestra aveva debiti per pi√π di <strong>‚Ç¨ 70.000</strong> e aveva fideiussioni personali e di parenti per la copertura del mutuo della banca per l'acquisto dell'immobile, e se la situazione non si fosse sbloccata la banca avrebbe rilevato l'immobile e molto probabilmente avrebbe attinto dai beni dei fideiussori.</li>
                    <li>Marica ha lavorato per pi√π di <strong>10 anni (dal 2006 al 2016)</strong> ricevendo soltanto i contributi che allora erano di circa <strong>‚Ç¨ 250/300 mese</strong>.</li>
                </ul>
                <p>La situazione attuale √® che il <strong>netto vero di Marica √® inferiore ai ‚Ç¨ 1.000/mese</strong>.</p>
                <p>Alla luce di quanto esposto, ritengo sia giunto il momento opportuno per iniziare a pianificare la <strong>restituzione dei ‚Ç¨ 120.000</strong>, da restituire con una <strong>rata mensile</strong>, prioritariamente e indipendentemente rispetto agli altri compensi da decidere.</p>

                <div class="calculator-section">
                    <div class="calculator-title">Calcolatore Restituzione</div>
                    
                    <div class="calculator-grid">
                        <div class="calculator-column">
                            <div class="calculator-row">
                                <span class="calculator-label">Interesse prestito:</span>
                                <select id="interessePrestito" class="calculator-select" onchange="calculateLoan()">
                                    <option value="2.0">2,0% (ISTAT)</option>
                                    <option value="2.5">2,5%</option>
                                    <option value="3.0" selected>3,0% (BOT-CCT)</option>
                                    <option value="3.5">3,5%</option>
                                    <option value="4.0">4,0%</option>
                                    <option value="4.5">4,5%</option>
                                    <option value="5.0">5,0% (A rischio)</option>
                                </select>
                            </div>
                        </div>
                        <div class="calculator-column">
                            <div class="calculator-row">
                                <span class="calculator-label">Interesse restituzione:</span>
                                <select id="interesseRestituzione" class="calculator-select" onchange="calculateLoan()">
                                    <option value="2.0">2,0%</option>
                                    <option value="2.5">2,5%</option>
                                    <option value="3.0" selected>3,0%</option>
                                    <option value="3.5">3,5%</option>
                                    <option value="4.0">4,0%</option>
                                    <option value="4.5">4,5%</option>
                                </select>
                            </div>
                            <div class="calculator-row">
                                <span class="calculator-label">Restituzione in anni:</span>
                                <select id="anni" class="calculator-select" onchange="calculateLoan()">
                                    <option value="1">1 anno</option>
                                    <option value="2">2 anni</option>
                                    <option value="5">5 anni</option>
                                    <option value="10">10 anni</option>
                                    <option value="15">15 anni</option>
                                    <option value="20" selected>20 anni</option>
                                    <option value="25">25 anni</option>
                                    <option value="30">30 anni</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="calculator-result" id="risultati">
                        <div class="result-row">
                            <span class="result-label">Capitale al 23/12/2005:</span>
                            <span class="result-value">‚Ç¨ 120.000</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">Montante oggi (<span id="data-oggi"></span>):</span>
                            <span class="result-value" id="montante">‚Ç¨ 289.600</span>
                        </div>
                        <div class="result-row">
                            <span class="result-label">Rata mensile:</span>
                            <span class="result-value" id="rata">‚Ç¨ 1.900</span>
                        </div>
                    </div>
                </div>

                <div class="calculation-box">
                    <h3 style="color: #1a5276; margin-top: 0; margin-bottom: 15px; text-align: center;">Formule utilizzate per i calcoli</h3>
                    
                    <div style="margin-bottom: 20px;">
                        <strong style="color: #1a5276;">Calcolo del Montante (Interesse Composto):</strong>
                        <div style="background-color: #fff; padding: 15px; border-radius: 6px; margin-top: 8px; font-family: monospace; font-size: 1.1em; border-left: 4px solid #3498db;">
                            M = C √ó (1 + i)<sup>n</sup>
                        </div>
                        <div style="margin-top: 10px; font-size: 0.95em; color: #2c3e50;">
                            Dove:<br>
                            ‚Ä¢ <strong>M</strong> = Montante finale<br>
                            ‚Ä¢ <strong>C</strong> = Capitale iniziale (‚Ç¨ 120.000)<br>
                            ‚Ä¢ <strong>i</strong> = Tasso di interesse annuo (Interesse prestito)<br>
                            ‚Ä¢ <strong>n</strong> = Anni trascorsi dal 23/12/2005
                        </div>
                    </div>

                    <div>
                        <strong style="color: #1a5276;">Calcolo della Rata Mensile:</strong>
                        <div style="background-color: #fff; padding: 15px; border-radius: 6px; margin-top: 8px; font-family: monospace; font-size: 1.1em; border-left: 4px solid #e74c3c;">
                            R = M √ó [i<sub>m</sub> √ó (1 + i<sub>m</sub>)<sup>t</sup>] / [(1 + i<sub>m</sub>)<sup>t</sup> - 1]
                        </div>
                        <div style="margin-top: 10px; font-size: 0.95em; color: #2c3e50;">
                            Dove:<br>
                            ‚Ä¢ <strong>R</strong> = Rata mensile<br>
                            ‚Ä¢ <strong>M</strong> = Montante da restituire<br>
                            ‚Ä¢ <strong>i<sub>m</sub></strong> = Tasso mensile (Interesse restituzione √∑ 12)<br>
                            ‚Ä¢ <strong>t</strong> = Numero totale di mesi per la restituzione
                        </div>
                    </div>
                </div>

                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="amministratore" class="content-section">
                <h2>Retribuzione amministratore</h2>
                <p>Per chi ha il ruolo di <strong>Amministratore Unico</strong>, per le responsabilit√† che ricadono su questo ruolo bisognerebbe considerare:</p>
                <ul>
                    <li>Un compenso per questo ruolo, indipendentemente da ogni altra cosa, che potrebbe essere quantificato in circa <strong>‚Ç¨ 300/mese</strong>.</li>
                    <li>Una polizza assicurativa di circa <strong>‚Ç¨ 200/mese</strong> che la societ√† pu√≤ detrarre.</li>
                    <li>Naturalmente l'amministratore potrebbe anche non essere sempre la stessa persona e quindi quei <strong>‚Ç¨ 500/mese (orientativi)</strong> saranno dati (ufficialmente) alla persona che ha l'incarico di Amministratore in quel momento.</li>
                </ul>
                <p><strong>Tutto alla luce del sole</strong>.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="checco" class="content-section">
                <h2>Retribuzione Checco</h2>
                <p>Per Checco, in ottica di <strong>equit√† e trasparenza tra i soci</strong>, sarebbe opportuno <strong>sospendere extra e incentivi</strong>, in sintesi niente pi√π personal e niente incentivi di nessun tipo (sono altri gli incentivi).</p>
                <p>Tutto quello che i soci lavoratori fanno √® per la palestra.</p>
                <p>Attualmente √® Amministratore Unico quindi vale quanto scritto precedentemente.</p>
                <p>Per quanto riguarda il compenso come attivit√†, la procedura corretta da seguire √® quella di fare una <strong>ricerca di mercato</strong> e determinare il <strong>compenso medio</strong> di un istruttore/gestore che faccia le stesse attivit√† di Checco, assunto regolarmente, assunzione che deve essere dello stesso tipo anche a Checco, <strong>tutto alla luce del sole</strong>.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="mimmo" class="content-section">
                <h2>Retribuzione Mimmo</h2>
                <p><strong>Niente pi√π quell'euro a "paziente"</strong> (gli incentivi sono per i non soci).</p>
                <p>Per quanto riguarda il lavoro, stesso discorso fatto per Checco, si individua (idealmente) una persona che possa fare lo stesso lavoro che fa Mimmo e si determina il <strong>compenso medio</strong> di una tale figura, e si adotta lo stesso criterio di assunzione per Mimmo, ancora una volta <strong>tutto alla luce del sole</strong>.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="marica" class="content-section">
                <h2>Retribuzione Marica</h2>
                <p>Il compenso di Marica semplicemente diventa quello che ha adesso, senza pi√π bisogno di fare conti strani ogni mese per calcolare quanto deve versare nelle casse della palestra, <strong>niente pi√π restituzioni mensili, o restituzione di tredicesime o anche di fine rapporto</strong>.</p>
                <p>Insomma, √® ora di riconoscere a Marica uno <strong>stipendio ufficiale, equo e dignitoso</strong>.</p>
                <p>Infine, <strong>niente incentivi a cottimo</strong>, assolutamente umilianti per chi gi√† fa tutto quello che pu√≤ fare perch√© quando lavora lo fa da socia e non da semplice impiegata.</p>
                <p><h3>Ma allora, i soci guadagnano quanto gli istruttori o gli impiegati?</h3></p>
                <p><strong>Assolutamente no</strong>, se le cose andranno bene, e tutto lo lascia presagire, i soci, <strong>due volte l'anno (luglio e gennaio) si divideranno equamente gli extra</strong>, che si preannunciano molto interessanti.</p>
                <a href="#top" class="back-to-top-button" onclick="location.reload()">Inizio</a>
            </div>

            <div id="vantaggio" class="content-section">
                <h2>Vantaggi per il futuro</h2>
                <ul>
                    <li>Con questo approccio <strong>non c'√® pi√π un Amministratore Unico a vita</strong>, ma il ruolo potrebbe essere svolto a turno (tra chi lo vuole fare), e nulla vieta che lo possa fare un esterno di fiducia.</li>
                    <li>Si risolve il problema del <strong>passaggio generazionale</strong>, nel senso che se c'√® qualche socio che lavora viene pagato a quotazioni di mercato, e se non lavora non ha retribuzioni, ma in ogni caso resta l'incontro semestrale per la suddivisione degli extra, solo a favore dei soci: <strong>Checco, Marica e Flavia</strong>.</li>
                </ul>
                <a href="#top" class="back-to-top-button">Inizio</a>
            </div>
        </div>
    </div>

    <script>
        function showContent(sectionId) {
            const dynamicContentArea = document.getElementById('dynamic-content-area');
            const sourceSection = document.getElementById(sectionId);
            const buttonSection = document.getElementById('button-section'); 
            const pageTitle = document.querySelector('h1');

            dynamicContentArea.innerHTML = '';

            // Mappa sezione ‚Üí emoji + testo per H1/H2 e <title>
            const titles = {
                'fitto': 'üè† Revisione Fitto',
                'versamento': 'üí∞ Restituzione Versamento Iniziale',
                'amministratore': 'üëî Retribuzione Amministratore',
                'checco': 'üèãÔ∏è‚Äç‚ôÇÔ∏è Retribuzione Checco',
                'mimmo': 'üßë‚Äç‚öïÔ∏è Retribuzione Mimmo',
                'marica': 'üë© Retribuzione Marica',
                'vantaggio': 'üìà Vantaggi per il Futuro'
            };

            // Aggiorna il titolo della scheda e l'H1
            if (titles[sectionId]) {
                document.title = titles[sectionId];
                if (pageTitle) pageTitle.textContent = titles[sectionId];
            }

            if (sourceSection) {
                const clonedContent = sourceSection.cloneNode(true);
                const h2 = clonedContent.querySelector('h2');
                if (h2 && titles[sectionId]) {
                    h2.innerHTML = titles[sectionId];
                }
                clonedContent.style.display = 'block';
                dynamicContentArea.appendChild(clonedContent);
                
                // Se √® la sezione versamento, ricalcola subito i valori
                if (sectionId === 'versamento') {
                    setTimeout(() => calculateLoan(), 100);
                }
                
                buttonSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function calculateLoan() {
            const capitale = 120000;
            const dataInizio = new Date(2005, 11, 23); // 23/12/2005
            const dataOggi = new Date();
            
            // Aggiorna la data visualizzata
            const gg = String(dataOggi.getDate()).padStart(2, '0');
            const mm = String(dataOggi.getMonth() + 1).padStart(2, '0');
            const aaaa = dataOggi.getFullYear();
            if(document.getElementById('data-oggi')) {
                document.getElementById('data-oggi').textContent = `${gg}/${mm}/${aaaa}`;
            }
            
            // Legge i valori dai select
            const interessePrestito = parseFloat(document.getElementById('interessePrestito').value) / 100;
            const interesseRestituzione = parseFloat(document.getElementById('interesseRestituzione').value) / 100;
            const anniRestituzione = parseInt(document.getElementById('anni').value);
            
            // Calcola anni trascorsi dal versamento
            const anniTrascorsi = (dataOggi - dataInizio) / (1000 * 60 * 60 * 24 * 365.25);
            
            // Calcola montante con il tasso del prestito
            const montante = capitale * Math.pow(1 + interessePrestito, anniTrascorsi);
            
            // Calcola rata mensile con il tasso di restituzione
            const mesiRestituzione = anniRestituzione * 12;
            const interesseMensileRestituzione = interesseRestituzione / 12;
            
            let rataMensile;
            if (interesseMensileRestituzione === 0) {
                rataMensile = montante / mesiRestituzione;
            } else {
                rataMensile = montante * (interesseMensileRestituzione * Math.pow(1 + interesseMensileRestituzione, mesiRestituzione)) / 
                             (Math.pow(1 + interesseMensileRestituzione, mesiRestituzione) - 1);
            }
            
            // Arrotonda ai 100 euro per una visualizzazione pi√π pulita
            const montanteArrotondato = Math.round(montante / 100) * 100;
            const rataArrotondata = Math.round(rataMensile / 100) * 100;
            
            // Aggiorna i risultati nel DOM
            const montanteEl = document.getElementById('montante');
            const rataEl = document.getElementById('rata');
            if (montanteEl) montanteEl.textContent = '‚Ç¨ ' + formatNumber(montanteArrotondato);
            if (rataEl) rataEl.textContent = '‚Ç¨ ' + formatNumber(rataArrotondata);
        }

        // Funzione per formattare i numeri con il punto come separatore delle migliaia
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        // Calcola automaticamente al caricamento della pagina se la sezione √® visibile
        document.addEventListener('DOMContentLoaded', function() {
            if (document.getElementById('dynamic-content-area').querySelector('.calculator-section')) {
                calculateLoan();
            }
        });
    </script>
</body>
</html>
